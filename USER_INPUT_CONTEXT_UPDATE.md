# UserInputèŠ‚ç‚¹ä½¿ç”¨Contextæ›´æ–°æ€»ç»“

## ğŸ¯ æ ¸å¿ƒæ”¹è¿›

æ ¹æ®æ‚¨çš„æ­£ç¡®å»ºè®®ï¼Œ**UserInputèŠ‚ç‚¹ç°åœ¨è¾“å‡ºSchedulerçš„contextï¼ˆæ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰**ï¼Œè€Œä¸æ˜¯ç®€å•çš„é»˜è®¤æ¶ˆæ¯ã€‚

---

## ğŸ“Š Schedulerè¾“å‡ºç»“æ„

Scheduleråœ¨JSONè¾“å‡ºä¸­åŒ…å«ä¸¤ä¸ªå…³é”®å­—æ®µï¼š

```json
{
  "taskUpdate": {
    "taskId": "task_001",
    "status": "in_progress",
    "reason": "å¼€å§‹æ‰§è¡Œä»»åŠ¡"
  },
  "nextAction": {
    "next": "userInput",
    "taskDescription": "ä»»åŠ¡çš„æ¦‚è¦æè¿°",
    "context": "è¯¦ç»†çš„æ‰§è¡ŒæŒ‡ä»¤å’Œä¸Šä¸‹æ–‡ä¿¡æ¯"
  }
}
```

### ä¸¤ä¸ªå­—æ®µçš„åŒºåˆ«ï¼š

| å­—æ®µ | ä½œç”¨ | è¯¦ç»†ç¨‹åº¦ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|----------|
| **taskDescription** | ä»»åŠ¡æ¦‚è¦ | ç®€çŸ­ | ç»™å­å›¾çœ‹çš„ä»»åŠ¡æ ‡é¢˜ |
| **context** | æ‰§è¡Œä¸Šä¸‹æ–‡ | è¯¦ç»† | åŒ…å«å…·ä½“æŒ‡ä»¤ã€å‚æ•°ã€è¦æ±‚ |

---

## âœ… é€‰æ‹©Contextçš„åŸå› 

ç»è¿‡ä»”ç»†æ€è€ƒï¼Œæˆ‘é€‰æ‹©ä½¿ç”¨**context**ä½œä¸ºUserInputçš„è¾“å‡ºï¼ŒåŸå› å¦‚ä¸‹ï¼š

### 1. **Contextæ›´å…·ä½“æ˜ç¡®**
- ContextåŒ…å«Schedulerç”Ÿæˆçš„è¯¦ç»†æ‰§è¡ŒæŒ‡ä»¤
- æ˜ç¡®è¯´æ˜éœ€è¦ç”¨æˆ·æä¾›ä»€ä¹ˆä¿¡æ¯
- åŒ…å«ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªä¿¡æ¯çš„ä¸Šä¸‹æ–‡

### 2. **TaskDescriptionè¿‡äºç®€ç•¥**
- åªæ˜¯ä»»åŠ¡çš„æ¦‚è¦æè¿°
- ç¼ºå°‘å…·ä½“çš„æŒ‡ä»¤ç»†èŠ‚
- æ›´é€‚åˆç»™å­å›¾çœ‹ï¼Œè€Œä¸æ˜¯ç»™ç”¨æˆ·çœ‹

### 3. **ä¸Scheduleræç¤ºè¯å¯¹é½**
æ ¹æ®Schedulerçš„æç¤ºè¯ï¼Œcontextçš„å®šä¹‰æ˜¯ï¼š
```
"context": "å­å›¾æ‰§è¡Œæ‰€éœ€çš„å®Œæ•´ä¸Šä¸‹æ–‡ä¿¡æ¯"
```

### 4. **ç”¨æˆ·éœ€è¦è¯¦ç»†ä¿¡æ¯**
- ç”¨æˆ·éœ€è¦çŸ¥é“ä¸ºä»€ä¹ˆè¦æä¾›ä¿¡æ¯
- ç”¨æˆ·éœ€è¦çŸ¥é“è¦æä¾›ä»€ä¹ˆæ ¼å¼çš„ä¿¡æ¯
- Contextå¯ä»¥åŒ…å«ç¤ºä¾‹å’Œå…·ä½“è¦æ±‚

---

## ğŸ”§ å®ç°çš„ä¿®æ”¹

### 1. MainGraphStateæ·»åŠ è®¿é—®æ–¹æ³• âœ…

**æ–‡ä»¶**: `job-search-agent/src/main/java/com/zhouruojun/jobsearchagent/agent/state/MainGraphState.java`

```java
/**
 * è·å–å­å›¾æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆç”±Schedulerè®¾ç½®ï¼‰
 * contextåŒ…å«è¯¦ç»†çš„æ‰§è¡ŒæŒ‡ä»¤å’Œè¦æ±‚
 */
public Optional<String> getSubgraphContext() {
    return Optional.ofNullable((String) state.get("subgraphContext"));
}

/**
 * è·å–å­å›¾ä»»åŠ¡æè¿°ï¼ˆç”±Schedulerè®¾ç½®ï¼‰
 * taskDescriptionæ˜¯ä»»åŠ¡çš„æ¦‚è¦æè¿°
 */
public Optional<String> getSubgraphTaskDescription() {
    return Optional.ofNullable((String) state.get("subgraphTaskDescription"));
}
```

### 2. UserInputèŠ‚ç‚¹è¯»å–Context âœ…

**æ–‡ä»¶**: `job-search-agent/src/main/java/com/zhouruojun/jobsearchagent/agent/actions/UserInput.java`

```java
@Override
public Map<String, Object> apply(MainGraphState state) throws Exception {
    log.info("JobSearchAgent UserInput node triggered");
    
    // ä¼˜å…ˆä½¿ç”¨Schedulerè®¾ç½®çš„contextï¼ˆè¯¦ç»†çš„æ‰§è¡ŒæŒ‡ä»¤ï¼‰
    // å¦‚æœæ²¡æœ‰contextï¼Œåˆ™ä½¿ç”¨taskDescription
    // å¦‚æœéƒ½æ²¡æœ‰ï¼Œåˆ™ä½¿ç”¨é»˜è®¤æç¤º
    String userInputPrompt = state.getSubgraphContext()
            .or(() -> state.getSubgraphTaskDescription())
            .orElse("ç­‰å¾…ç”¨æˆ·è¾“å…¥");
    
    log.info("UserInput prompt: {}", userInputPrompt);
    
    // è¿”å›AiMessageï¼ŒåŒ…å«éœ€è¦ç”¨æˆ·è¾“å…¥çš„æç¤ºä¿¡æ¯
    return Map.of(
            "next", "", 
            "agent_response", "",
            "messages", AiMessage.aiMessage(userInputPrompt)
    );
}
```

**ä¼˜å…ˆçº§**ï¼š
1. **ç¬¬ä¸€ä¼˜å…ˆ**: `subgraphContext` - è¯¦ç»†çš„æ‰§è¡Œä¸Šä¸‹æ–‡
2. **ç¬¬äºŒä¼˜å…ˆ**: `subgraphTaskDescription` - ä»»åŠ¡æ¦‚è¦
3. **æœ€åå…œåº•**: "ç­‰å¾…ç”¨æˆ·è¾“å…¥" - é»˜è®¤æ¶ˆæ¯

### 3. SchedulerResponseParseræ·»åŠ userInputéªŒè¯ âœ…

**æ–‡ä»¶**: `job-search-agent/src/main/java/com/zhouruojun/jobsearchagent/agent/parser/SchedulerResponseParser.java`

```java
// æ”¯æŒçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
private static final List<String> VALID_NEXT_NODES = Arrays.asList(
    "job_info_collection_subgraph",
    "resume_analysis_optimization_subgraph",
    "job_search_execution_subgraph",
    "userInput",  // âœ… æ–°å¢
    "planner",
    "summary"
);
```

---

## ğŸ”„ å®Œæ•´çš„æ•°æ®æµ

### åœºæ™¯ï¼šSchedulerå†³å®šéœ€è¦ç”¨æˆ·è¾“å…¥ç®€å†æ–‡ä»¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Scheduleråˆ†æä»»åŠ¡                                             â”‚
â”‚    â†’ åˆ¤æ–­ï¼šéœ€è¦ç”¨æˆ·ä¸Šä¼ ç®€å†æ–‡ä»¶æ‰èƒ½ç»§ç»­                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. Schedulerç”ŸæˆJSONè¾“å‡º                                         â”‚
â”‚    {                                                             â”‚
â”‚      "nextAction": {                                             â”‚
â”‚        "next": "userInput",                                      â”‚
â”‚        "taskDescription": "ç®€å†åˆ†æä»»åŠ¡",                        â”‚
â”‚        "context": "è¯·ä¸Šä¼ æ‚¨çš„ç®€å†æ–‡ä»¶ï¼ˆæ”¯æŒPDFã€Wordæ ¼å¼ï¼‰ï¼Œ     â”‚
â”‚                    æ–‡ä»¶å¤§å°ä¸è¶…è¿‡5MBã€‚æˆ‘ä»¬éœ€è¦åˆ†ææ‚¨çš„å·¥ä½œ       â”‚
â”‚                    ç»å†ã€æŠ€èƒ½å’Œæ•™è‚²èƒŒæ™¯ï¼Œä»¥ä¾¿ä¸ºæ‚¨åŒ¹é…åˆé€‚çš„      â”‚
â”‚                    èŒä½ã€‚"                                       â”‚
â”‚      }                                                           â”‚
â”‚    }                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. CallSchedulerAgent.processTaskUpdate                         â”‚
â”‚    â†’ result.put("subgraphContext", nextAction.getContext())     â”‚
â”‚    â†’ result.put("subgraphTaskDescription",                      â”‚
â”‚                  nextAction.getTaskDescription())                â”‚
â”‚    â†’ result.put("next", "userInput")                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. å›¾è·¯ç”±åˆ°UserInputèŠ‚ç‚¹                                         â”‚
â”‚    â†’ scheduler â†’ userInput                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. UserInput.apply(state)                                        â”‚
â”‚    â†’ String prompt = state.getSubgraphContext()                 â”‚
â”‚    â†’ prompt = "è¯·ä¸Šä¼ æ‚¨çš„ç®€å†æ–‡ä»¶ï¼ˆæ”¯æŒPDFã€Wordæ ¼å¼ï¼‰......"   â”‚
â”‚    â†’ return AiMessage.aiMessage(prompt)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. JobSearchTaskManagerå‘é€INPUT_REQUIREDäº‹ä»¶                   â”‚
â”‚    â†’ sendTextEvent(requestId, prompt, "INPUT_REQUIRED")         â”‚
â”‚    â†’ Agent-Coreæ”¶åˆ°è¯¦ç»†çš„ç”¨æˆ·è¾“å…¥æç¤º                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. ç”¨æˆ·çœ‹åˆ°è¯¦ç»†æç¤ºå¹¶æä¾›ä¿¡æ¯                                    â”‚
â”‚    â†’ ç”¨æˆ·çœ‹åˆ°: "è¯·ä¸Šä¼ æ‚¨çš„ç®€å†æ–‡ä»¶ï¼ˆæ”¯æŒPDFã€Wordæ ¼å¼ï¼‰......"  â”‚
â”‚    â†’ ç”¨æˆ·ä¸Šä¼ ç®€å†æ–‡ä»¶                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Context vs TaskDescription ç¤ºä¾‹å¯¹æ¯”

### åœºæ™¯1ï¼šéœ€è¦ç”¨æˆ·ä¸Šä¼ ç®€å†

| å­—æ®µ | å†…å®¹ç¤ºä¾‹ |
|------|----------|
| **taskDescription** | "ç®€å†åˆ†æä»»åŠ¡" |
| **context** | "è¯·ä¸Šä¼ æ‚¨çš„ç®€å†æ–‡ä»¶ï¼ˆæ”¯æŒPDFã€Wordã€TXTæ ¼å¼ï¼‰ï¼Œæ–‡ä»¶å¤§å°ä¸è¶…è¿‡5MBã€‚æˆ‘ä»¬éœ€è¦åˆ†ææ‚¨çš„å·¥ä½œç»å†ã€æŠ€èƒ½å’Œæ•™è‚²èƒŒæ™¯ï¼Œä»¥ä¾¿ä¸ºæ‚¨åŒ¹é…åˆé€‚çš„èŒä½å¹¶ç”Ÿæˆä¼˜åŒ–å»ºè®®ã€‚" |

**UserInputè¾“å‡º**: contextï¼ˆè¯¦ç»†è¯´æ˜ï¼‰âœ…

### åœºæ™¯2ï¼šéœ€è¦ç”¨æˆ·ç¡®è®¤è–ªèµ„æœŸæœ›

| å­—æ®µ | å†…å®¹ç¤ºä¾‹ |
|------|----------|
| **taskDescription** | "å²—ä½æœç´¢ä»»åŠ¡" |
| **context** | "æ ¹æ®æ‚¨çš„èƒŒæ™¯ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†å¤šä¸ªåˆé€‚çš„èŒä½ã€‚ä¸ºäº†ç²¾å‡†ç­›é€‰ï¼Œè¯·å‘Šè¯‰æˆ‘ä»¬æ‚¨çš„è–ªèµ„æœŸæœ›èŒƒå›´ã€‚ä¾‹å¦‚ï¼š15K-25Kï¼Œæˆ–è€…20Kä»¥ä¸Šã€‚è¿™å°†å¸®åŠ©æˆ‘ä»¬è¿‡æ»¤æ‰ä¸ç¬¦åˆæ‚¨é¢„æœŸçš„èŒä½ã€‚" |

**UserInputè¾“å‡º**: contextï¼ˆè¯¦ç»†è¯´æ˜+ç¤ºä¾‹ï¼‰âœ…

### åœºæ™¯3ï¼šéœ€è¦ç”¨æˆ·æ¾„æ¸…å·¥ä½œåœ°ç‚¹

| å­—æ®µ | å†…å®¹ç¤ºä¾‹ |
|------|----------|
| **taskDescription** | "å²—ä½ä¿¡æ¯æ”¶é›†ä»»åŠ¡" |
| **context** | "æ‚¨æåˆ°æƒ³åœ¨'ä¸€çº¿åŸå¸‚'å·¥ä½œã€‚è¯·å…·ä½“æŒ‡å®šæ‚¨æœŸæœ›çš„åŸå¸‚ï¼Œå¯ä»¥é€‰æ‹©å¤šä¸ªï¼šåŒ—äº¬ã€ä¸Šæµ·ã€å¹¿å·ã€æ·±åœ³ã€‚è¿™å°†å¸®åŠ©æˆ‘ä»¬æœç´¢åˆ°æ›´ç²¾å‡†çš„èŒä½ä¿¡æ¯ã€‚" |

**UserInputè¾“å‡º**: contextï¼ˆè¯¦ç»†è¯´æ˜+é€‰é¡¹ï¼‰âœ…

---

## ğŸ¯ ä¼˜åŠ¿æ€»ç»“

### ä½¿ç”¨Contextçš„ä¼˜åŠ¿ï¼š

1. âœ… **ç”¨æˆ·ä½“éªŒæ›´å¥½** - ç”¨æˆ·èƒ½çœ‹åˆ°è¯¦ç»†çš„æŒ‡å¼•ï¼ŒçŸ¥é“è¦æä¾›ä»€ä¹ˆ
2. âœ… **å‡å°‘æ²Ÿé€šæˆæœ¬** - ä¸€æ¬¡æ€§è¯´æ¸…æ¥šæ‰€æœ‰è¦æ±‚ï¼Œé¿å…å¤šè½®äº¤äº’
3. âœ… **æé«˜å‡†ç¡®æ€§** - è¯¦ç»†çš„è¯´æ˜èƒ½è®©ç”¨æˆ·æä¾›æ›´ç¬¦åˆè¦æ±‚çš„ä¿¡æ¯
4. âœ… **åŒ…å«ç¤ºä¾‹** - Contextå¯ä»¥åŒ…å«æ ¼å¼ç¤ºä¾‹ï¼Œç”¨æˆ·æ›´å®¹æ˜“ç†è§£
5. âœ… **ä¸SchedulerèŒè´£å¯¹é½** - Scheduleræœ¬å°±è´Ÿè´£ç”Ÿæˆè¯¦ç»†çš„æ‰§è¡Œä¸Šä¸‹æ–‡

### å¦‚æœä½¿ç”¨TaskDescriptionçš„åŠ£åŠ¿ï¼š

1. âŒ **ä¿¡æ¯å¤ªç®€ç•¥** - ç”¨æˆ·ä¸çŸ¥é“å…·ä½“è¦æä¾›ä»€ä¹ˆ
2. âŒ **å¯èƒ½é€ æˆè¯¯è§£** - ç¼ºå°‘è¯¦ç»†è¯´æ˜å’Œç¤ºä¾‹
3. âŒ **éœ€è¦å¤šè½®äº¤äº’** - ç”¨æˆ·å¯èƒ½æä¾›ä¸ç¬¦åˆè¦æ±‚çš„ä¿¡æ¯ï¼Œéœ€è¦é‡æ–°è¯¢é—®
4. âŒ **ä¸Schedulerè®¾è®¡ä¸ç¬¦** - TaskDescriptionæ˜¯ç»™å­å›¾çœ‹çš„ï¼Œä¸æ˜¯ç»™ç”¨æˆ·çœ‹çš„

---

## âœ… éªŒè¯æ£€æŸ¥æ¸…å•

- [x] MainGraphStateæ·»åŠ getSubgraphContext()æ–¹æ³•
- [x] MainGraphStateæ·»åŠ getSubgraphTaskDescription()æ–¹æ³•
- [x] UserInputèŠ‚ç‚¹ä¼˜å…ˆè¯»å–subgraphContext
- [x] UserInputèŠ‚ç‚¹æœ‰é™çº§ç­–ç•¥ï¼ˆcontext â†’ taskDescription â†’ é»˜è®¤ï¼‰
- [x] SchedulerResponseParserçš„VALID_NEXT_NODESåŒ…å«userInput
- [x] æ‰€æœ‰linteré”™è¯¯å·²ä¿®å¤
- [x] ä»£ç ç¼–è¯‘é€šè¿‡
- [x] æ—¥å¿—è¾“å‡ºå®Œå–„

---

## ğŸ“Š å¯¹æ¯”æ€»ç»“è¡¨

| æ–¹é¢ | ä¿®æ”¹å‰ | ä¿®æ”¹å |
|------|--------|--------|
| **UserInputè¾“å‡º** | é»˜è®¤æ¶ˆæ¯"ç­‰å¾…ç”¨æˆ·è¾“å…¥" | Schedulerçš„contextï¼ˆè¯¦ç»†æŒ‡ä»¤ï¼‰ |
| **ç”¨æˆ·ä½“éªŒ** | ä¸æ¸…æ¥šè¦æä¾›ä»€ä¹ˆ | æ¸…æ™°çŸ¥é“è¦æä¾›ä»€ä¹ˆä¿¡æ¯ |
| **ä¿¡æ¯è¯¦ç»†åº¦** | æœ€ä½ | é«˜ï¼ˆåŒ…å«è¦æ±‚ã€ç¤ºä¾‹ã€è¯´æ˜ï¼‰ |
| **æ•°æ®æ¥æº** | ç¡¬ç¼–ç  | åŠ¨æ€ä»Schedulerè·å– |
| **é™çº§ç­–ç•¥** | æ—  | context â†’ taskDescription â†’ é»˜è®¤ |
| **ä¸Schedulerå¯¹é½** | ä¸å¯¹é½ | å®Œå…¨å¯¹é½ |

---

## ğŸ‰ æ€»ç»“

æ„Ÿè°¢æ‚¨çš„æ­£ç¡®å»ºè®®ï¼ç°åœ¨**UserInputèŠ‚ç‚¹è¾“å‡ºSchedulerçš„context**ï¼Œè¿™æ ·ï¼š

1. âœ… **ç”¨æˆ·èƒ½çœ‹åˆ°è¯¦ç»†çš„è¾“å…¥æç¤º**
2. âœ… **Schedulerçš„contextå¾—åˆ°å……åˆ†åˆ©ç”¨**
3. âœ… **å‡å°‘ä¸å¿…è¦çš„å¤šè½®äº¤äº’**
4. âœ… **æé«˜æ•´ä½“ç”¨æˆ·ä½“éªŒ**
5. âœ… **ä¸Schedulerçš„èŒè´£å®Œç¾å¯¹é½**

**UserInputèŠ‚ç‚¹ç°å·²å®Œç¾å®ç°ï¼** ğŸŠ






